{"ast":null,"code":"import _asyncToGenerator from \"/Users/dinesh/tech/angular/ai-portfolio-analyzer/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { APP_TITLE } from '../constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/gemini.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"./components/header/header.component\";\nimport * as i4 from \"./components/footer/footer.component\";\nimport * as i5 from \"./components/portfolio-input-form/portfolio-input-form.component\";\nimport * as i6 from \"./components/insight-display/insight-display.component\";\nimport * as i7 from \"./components/loading-spinner/loading-spinner.component\";\nfunction AppComponent_app_loading_spinner_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading-spinner\");\n  }\n}\nfunction AppComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"strong\", 10);\n    i0.ɵɵtext(2, \"Error:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 11);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nfunction AppComponent_app_insight_display_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-insight-display\", 12);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"insights\", ctx_r0.insights)(\"groundingMetadata\", ctx_r0.groundingSources);\n  }\n}\nfunction AppComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"h3\", 14);\n    i0.ɵɵtext(2, \"Welcome to the AI Portfolio Analyzer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 15);\n    i0.ɵɵtext(4, \" Enter your portfolio assets and their target allocations on the left to get AI-powered insights. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"img\", 16);\n    i0.ɵɵelementEnd();\n  }\n}\nexport class AppComponent {\n  constructor(geminiService) {\n    this.geminiService = geminiService;\n    this.title = APP_TITLE;\n    this.portfolioItems = [];\n    this.insights = null;\n    this.isLoading = false;\n    this.error = null;\n    this.groundingSources = null;\n  }\n  ngOnInit() {\n    // Initial setup or data loading if needed\n  }\n  handlePortfolioSubmit(items) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.portfolioItems = items;\n      _this.isLoading = true;\n      _this.error = null;\n      _this.insights = null;\n      _this.groundingSources = null;\n      if (items.length === 0) {\n        _this.error = \"Portfolio cannot be empty. Please add at least one asset.\";\n        _this.isLoading = false;\n        return;\n      }\n      // Basic validation for total allocation can be added here if desired.\n      try {\n        const geminiResponse = yield _this.geminiService.analyzePortfolio(items);\n        _this.insights = geminiResponse.text;\n        if (geminiResponse.candidates && geminiResponse.candidates[0]?.groundingMetadata) {\n          _this.groundingSources = geminiResponse.candidates[0].groundingMetadata;\n        }\n      } catch (err) {\n        console.error(\"Error analyzing portfolio:\", err);\n        _this.error = err.message || \"An unknown error occurred while generating insights. Ensure your API key is correctly configured if using direct API calls.\";\n      } finally {\n        _this.isLoading = false;\n      }\n    })();\n  }\n  static {\n    this.ɵfac = function AppComponent_Factory(t) {\n      return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.GeminiService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AppComponent,\n      selectors: [[\"app-root\"]],\n      decls: 11,\n      vars: 5,\n      consts: [[1, \"min-h-screen\", \"flex\", \"flex-col\", \"bg-slate-900\", \"text-slate-100\"], [1, \"flex-grow\", \"container\", \"mx-auto\", \"px-4\", \"py-8\", \"flex\", \"flex-col\", \"lg:flex-row\", \"gap-8\"], [1, \"lg:w-1/3\"], [3, \"portfolioSubmit\", \"isLoading\"], [1, \"lg:w-2/3\"], [4, \"ngIf\"], [\"class\", \"bg-red-700 border border-red-900 text-red-100 px-4 py-3 rounded-lg shadow-lg\", \"role\", \"alert\", 4, \"ngIf\"], [3, \"insights\", \"groundingMetadata\", 4, \"ngIf\"], [\"class\", \"bg-slate-800 p-6 rounded-lg shadow-xl text-center\", 4, \"ngIf\"], [\"role\", \"alert\", 1, \"bg-red-700\", \"border\", \"border-red-900\", \"text-red-100\", \"px-4\", \"py-3\", \"rounded-lg\", \"shadow-lg\"], [1, \"font-bold\"], [1, \"block\", \"sm:inline\", \"ml-2\"], [3, \"insights\", \"groundingMetadata\"], [1, \"bg-slate-800\", \"p-6\", \"rounded-lg\", \"shadow-xl\", \"text-center\"], [1, \"text-xl\", \"font-semibold\", \"text-slate-300\"], [1, \"mt-2\", \"text-slate-400\"], [\"src\", \"https://picsum.photos/seed/portfolio-angular/600/300\", \"alt\", \"Financial Chart Placeholder\", 1, \"mt-4\", \"rounded-lg\", \"mx-auto\", \"opacity-70\"]],\n      template: function AppComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵelement(1, \"app-header\");\n          i0.ɵɵelementStart(2, \"main\", 1)(3, \"div\", 2)(4, \"app-portfolio-input-form\", 3);\n          i0.ɵɵlistener(\"portfolioSubmit\", function AppComponent_Template_app_portfolio_input_form_portfolioSubmit_4_listener($event) {\n            return ctx.handlePortfolioSubmit($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(5, \"div\", 4);\n          i0.ɵɵtemplate(6, AppComponent_app_loading_spinner_6_Template, 1, 0, \"app-loading-spinner\", 5)(7, AppComponent_div_7_Template, 5, 1, \"div\", 6)(8, AppComponent_app_insight_display_8_Template, 1, 2, \"app-insight-display\", 7)(9, AppComponent_div_9_Template, 6, 0, \"div\", 8);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(10, \"app-footer\");\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"isLoading\", ctx.isLoading);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.error && !ctx.isLoading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.insights && !ctx.isLoading && !ctx.error);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.insights && !ctx.isLoading && !ctx.error);\n        }\n      },\n      dependencies: [i2.NgIf, i3.HeaderComponent, i4.FooterComponent, i5.PortfolioInputFormComponent, i6.InsightDisplayComponent, i7.LoadingSpinnerComponent],\n      styles: [\"\\n\\n\\n\\n[_nghost-%COMP%] {\\n  display: block; \\n\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL2FwcC9hcHAuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsNkNBQTZDO0FBQzdDLCtFQUErRTtBQUMvRTtFQUNFLGNBQWMsRUFBRSxxREFBcUQ7QUFDdkUiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qIEFwcENvbXBvbmVudCBzcGVjaWZpYyBzdHlsZXMgY2FuIGdvIGhlcmUgKi9cbi8qIEZvciBleGFtcGxlLCBpZiBUYWlsd2luZCBkb2Vzbid0IGNvdmVyIGEgc3BlY2lmaWMgbmVlZCBmb3IgdGhlIHJvb3QgbGF5b3V0ICovXG46aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrOyAvKiBFbnN1cmVzIHRoZSBjb21wb25lbnQgdGFrZXMgdXAgc3BhY2UgYXMgZXhwZWN0ZWQgKi9cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["APP_TITLE","i0","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","error","ɵɵproperty","insights","groundingSources","AppComponent","constructor","geminiService","title","portfolioItems","isLoading","ngOnInit","handlePortfolioSubmit","items","_this","_asyncToGenerator","length","geminiResponse","analyzePortfolio","text","candidates","groundingMetadata","err","console","message","ɵɵdirectiveInject","i1","GeminiService","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵlistener","AppComponent_Template_app_portfolio_input_form_portfolioSubmit_4_listener","$event","ɵɵtemplate","AppComponent_app_loading_spinner_6_Template","AppComponent_div_7_Template","AppComponent_app_insight_display_8_Template","AppComponent_div_9_Template"],"sources":["/Users/dinesh/tech/angular/ai-portfolio-analyzer/app/app.component.ts","/Users/dinesh/tech/angular/ai-portfolio-analyzer/app/app.component.html"],"sourcesContent":["\nimport { Component, OnInit } from '@angular/core';\nimport { PortfolioItem, Candidate } from '../types';\nimport { GeminiService } from './services/gemini.service';\nimport { APP_TITLE } from '../constants';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  title = APP_TITLE;\n  portfolioItems: PortfolioItem[] = [];\n  insights: string | null = null;\n  isLoading: boolean = false;\n  error: string | null = null;\n  groundingSources: Candidate['groundingMetadata'] | null = null;\n\n  constructor(private geminiService: GeminiService) { }\n\n  ngOnInit() {\n    // Initial setup or data loading if needed\n  }\n\n  async handlePortfolioSubmit(items: PortfolioItem[]): Promise<void> {\n    this.portfolioItems = items;\n    this.isLoading = true;\n    this.error = null;\n    this.insights = null;\n    this.groundingSources = null;\n\n    if (items.length === 0) {\n      this.error = \"Portfolio cannot be empty. Please add at least one asset.\";\n      this.isLoading = false;\n      return;\n    }\n\n    // Basic validation for total allocation can be added here if desired.\n\n    try {\n      const geminiResponse = await this.geminiService.analyzePortfolio(items);\n      this.insights = geminiResponse.text;\n      if (geminiResponse.candidates && geminiResponse.candidates[0]?.groundingMetadata) {\n        this.groundingSources = geminiResponse.candidates[0].groundingMetadata;\n      }\n    } catch (err: any) {\n      console.error(\"Error analyzing portfolio:\", err);\n      this.error = err.message || \"An unknown error occurred while generating insights. Ensure your API key is correctly configured if using direct API calls.\";\n    } finally {\n      this.isLoading = false;\n    }\n  }\n}\n","\n<div class=\"min-h-screen flex flex-col bg-slate-900 text-slate-100\">\n  <app-header></app-header>\n\n  <main class=\"flex-grow container mx-auto px-4 py-8 flex flex-col lg:flex-row gap-8\">\n    <div class=\"lg:w-1/3\">\n      <app-portfolio-input-form (portfolioSubmit)=\"handlePortfolioSubmit($event)\" [isLoading]=\"isLoading\"></app-portfolio-input-form>\n    </div>\n    <div class=\"lg:w-2/3\">\n      <app-loading-spinner *ngIf=\"isLoading\"></app-loading-spinner>\n      \n      <div *ngIf=\"error && !isLoading\" class=\"bg-red-700 border border-red-900 text-red-100 px-4 py-3 rounded-lg shadow-lg\" role=\"alert\">\n        <strong class=\"font-bold\">Error:</strong>\n        <span class=\"block sm:inline ml-2\">{{ error }}</span>\n      </div>\n      \n      <app-insight-display *ngIf=\"insights && !isLoading && !error\" [insights]=\"insights\" [groundingMetadata]=\"groundingSources\"></app-insight-display>\n      \n      <div *ngIf=\"!insights && !isLoading && !error\" class=\"bg-slate-800 p-6 rounded-lg shadow-xl text-center\">\n        <h3 class=\"text-xl font-semibold text-slate-300\">Welcome to the AI Portfolio Analyzer</h3>\n        <p class=\"mt-2 text-slate-400\">\n          Enter your portfolio assets and their target allocations on the left to get AI-powered insights.\n        </p>\n        <img src=\"https://picsum.photos/seed/portfolio-angular/600/300\" alt=\"Financial Chart Placeholder\" class=\"mt-4 rounded-lg mx-auto opacity-70\" />\n      </div>\n    </div>\n  </main>\n\n  <app-footer></app-footer>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}